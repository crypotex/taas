var testEvent;function isOverlapping(d){var c=$("#updateReservation").fullCalendar("clientEvents");var b;for(b=0;b<c.length;++b){var a=c[b];var e=a.start.diff(d.start,"minutes");if(e==0&&a.id!=d.id&&a.resources[0]==d.resources[0]){return true}}return false}function onEventDrag(b,c,a){if(isOverlapping(b)){a()}else{testEvent=b;$("#id_start").val(b.start.format("YYYY-MM-DD HH:mm"));$("#id_end").val(b.end.format("YYYY-MM-DD HH:mm"));$("#id_field").val(b.resources[0])}}$(document).ready(function(){$("#updateReservation").fullCalendar({header:false,resources:"/reservation/fields/",defaultView:"resourceDay",allDaySlot:false,minTime:"08:00:00",maxTime:"22:00:00",aspectRatio:0,theme:true,axisFormat:"HH:mm",timeFormat:"",slotDuration:"01:00:00",events:entities,eventDrop:onEventDrag,defaultDate:tableDate})});