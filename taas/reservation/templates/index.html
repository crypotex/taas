{% extends "base.html" %}
{% load i18n %}
{% load staticfiles %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'css/fullcalendar.css' %}">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="{% static 'css/calendar.css' %}">
{% endblock styles %}

{% block scripts %}
    <script src="{% static 'js/fullcalendar/jquery-2.1.4.min.js' %}"></script>
    <script src="{% static 'js/fullcalendar/jquery-ui.min.js' %}"></script>
    <script  src="{% static 'js/fullcalendar/moment.min.js' %}"></script>
    <script  src="{% static 'js/fullcalendar/fullcalendar.js' %}"></script>
    <script  src="{% static 'js/calendar.js' %}"></script>
    <script  src="{% static 'js/countdown/jquery.countdown.js' %}"></script>
    <script>
        {% if user.is_authenticated %}
            canSelect = true;
            timeError = "{% trans 'Please select slots, which are 30 minutes later from now.' %}";
            expireMessage = "{% trans 'Your reservation time has been expired.' %}";


            $(document).ready(function() {
            {% if is_unpaid %}
                expire_date = "{{ expire_date }}";
                checkDate();
                enableSubmition();
            {% else %}
                disableSubmition();
            {% endif %}
        });
        {% else %}
            canSelect = false;
        {% endif %}
    </script>
{% endblock scripts %}

{% block content %}
    <div id="timerMessage">{% trans 'To make all your reservations you have' %}
    <span id="timer"></span>
    {% trans 'minutes' %}
    </div>
    <div class="wrap">
        <div id="calendar"></div>
        <div id="datepicker"></div>
    </div>
    {% if user.is_authenticated %}
        <form action="{% url 'reservation_list' %}">
            <input type="submit" id='submit' value="{% trans 'Submit' %}">
        </form>
    {% endif %}
{% endblock content %}
